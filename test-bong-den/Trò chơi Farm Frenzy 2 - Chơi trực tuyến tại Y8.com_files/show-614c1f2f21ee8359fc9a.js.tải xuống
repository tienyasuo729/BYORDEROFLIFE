/*! For license information please see show-614c1f2f21ee8359fc9a.js.LICENSE.txt */
!function(n){var i={};function r(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=n,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/packs/",r(r.s=369)}({199:function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.favorite=new Favorite,this.userInfo=new UserInfo}n(200),i((n=r).prototype,[{key:"bindClickActions",value:function(){var t=this;$(".favorites_add, .favorites_remove, .hearted_add, .hearted_remove").on("click",function(e){return e.preventDefault(),t.$currentActionContainer=$(e.currentTarget),t.currentAction=t.$currentActionContainer.data("action"),t.$container=t.$currentActionContainer.closest(".fav-part"),t.$add=t.$container.find(".favorites_add"),t.$remove=t.$container.find(".favorites_remove"),t.$heart=t.$container.find(".hearted_add"),t.$unheart=t.$container.find(".hearted_remove"),t.$heartMessage=$(".heart-message"),t.perform(),!1})}},{key:"perform",value:function(){if(this.favorite.processing)return!1;this.favorite[this.currentAction](this.getUrl(this.$currentActionContainer),this.getItemId(this.$currentActionContainer),$.proxy(this[this.currentAction],this))}},{key:"add",value:function(e){this.$add.hide(),this.$remove.show(),this.userInfo.canHeart()?(this.$heart.addClass("show"),this.$unheart.removeClass("visible"),this.$heartMessage.addClass("animation"),setTimeout(function(){return $(".heart-message").removeClass("animation")},7e3)):(this.$heartMessage.removeClass("show"),this.$unheart.removeClass("visible")),$(document).triggerHandler("favorites-count",e.user_favorites_count)}},{key:"remove",value:function(e){this.$add.show(),this.$remove.hide(),this.$heart.show().removeClass("show").removeClass("visible"),this.$unheart.show().removeClass("visible").removeClass("show"),this.$heartMessage.removeClass("animation"),$(document).triggerHandler("favorites-count",e.user_favorites_count),$(document).triggerHandler("hearts-count",e.user_hearts_count)}},{key:"heart",value:function(e){this.$heart.hide().removeClass("visible").removeClass("show"),this.$unheart.addClass("visible"),$(document).triggerHandler("hearts-count",e.user_hearts_count)}},{key:"unheart",value:function(e){this.$heart.addClass("visible"),this.$unheart.hide().removeClass("visible").removeClass("show"),$(document).triggerHandler("hearts-count",e.user_hearts_count)}},{key:"getUrl",value:function(e){return e.data("url")}},{key:"getItemId",value:function(e){return e.data("item-id")}}]),Object.defineProperty(n,"prototype",{writable:!1}),window.ItemFavorite=r},200:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var i;function r(){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.processing=!1}n((i=r).prototype,[{key:"add",value:function(e,t,n){this.execute(e,{item_id:t},"POST",n)}},{key:"remove",value:function(e,t,n){this.execute(e,null,"DELETE",n)}},{key:"heart",value:function(e,t,n){this.execute(e,{item_id:t},"POST",n)}},{key:"unheart",value:function(e,t,n){this.execute(e,null,"DELETE",n)}},{key:"execute",value:function(e,t,n,i){var r=this;this.request=$.ajax({type:n,url:e,data:t,beforeSend:function(){r.processing=!r.processing},complete:function(e){r.processing=!r.processing},error:function(e){403==e.status&&ID.register()},success:function(e){i(e)}})}}]),Object.defineProperty(i,"prototype",{writable:!1}),window.Favorite=r},201:function(e,t){window.ItemEmbed={init:function(){$("body").on("click",".item-embed-toggle",this.popUp.bind(this)),$("body").on("click",".item-embed-popup .btn-close",this.hideAll.bind(this)),$("body").on("click",".btn-copy-code",this.copyCode.bind(this))},popUp:function(e){e.stopPropagation(),e.preventDefault();var t=$(e.currentTarget).data("item-id");($popup=$("#item-embed-popup-"+t)).toggle(),this.selectEmbedCode(e)},hideAll:function(e){e.preventDefault(),$(".item-embed-popup").hide()},selectEmbedCode:function(e){$(e.target).parent().find("textarea").select()},copyCode:function(e){e.preventDefault()}}},202:function(e,t){function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}function i(e,t){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function r(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=o(n),t=(e=i?(e=o(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(e=t))throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t,n){t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1})}c(y,[{key:"key",get:function(){return this.$el.data("key")}},{key:"value",get:function(){return this.$el.data("value")}},{key:"showAds",get:function(){return!window.adBlockDetected&&this.$el.data("show-ads")}},{key:"showDefaultAds",get:function(){return this.$el.data("show-default-ads")}},{key:"revenueShare",get:function(){return this.$el.data("revenue-share")}}]);var u,l,d,h=y,f=(n(v,h),d=r(v),c(v,[{key:"slotRightUp",get:function(){return"/83578953/Y8_Right_of_games_1"}},{key:"slotRightDown",get:function(){return"/83578953/Y8_Right_of_games_2"}},{key:"slotAbove",get:function(){return"/83578953/Y8_Top_of_Games"}}]),v),h=(n(g,h),l=r(g),c(g,[{key:"videoTag",get:function(){return this.$el.data("video-tag")}},{key:"custParams",get:function(){return"cust_params=".concat(this.key,"%3D").concat(this.value)}},{key:"descriptionUrl",get:function(){return encodeURIComponent(window.location.href)}},{key:"url",get:function(){return[this.videoTag,this.custParams,this.descriptionUrl].join("&")}}]),g),p=(n(m,h),u=r(m),c(m,[{key:"videoTag",get:function(){return this.$el.data("mobile-video-tag")}}]),m);function m(){return a(this,m),u.apply(this,arguments)}function g(){var e;return a(this,g),(e=l.call(this)).$el=$("#video-ad-manager"),e}function v(){var e;return a(this,v),(e=d.call(this)).$el=$("#display-ad-manager"),e}function y(){a(this,y)}window.DisplayAdManagerConfig=f,window.VideoAdManagerConfig=h,window.MobileVideoAdManagerConfig=p},203:function(e,t,n){"use strict";function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function C(){C=function(){return a};var a={},e=Object.prototype,c=e.hasOwnProperty,t="function"==typeof Symbol?Symbol:{},i=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",r=t.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(e){o=function(e,t,n){return e[t]=n}}function s(e,t,n,i){var r,o,a,s,t=t&&t.prototype instanceof d?t:d,t=Object.create(t.prototype),i=new b(i||[]);return t._invoke=(r=e,o=n,a=i,s="suspendedStart",function(e,t){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===e)throw t;return k()}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){n=function e(t,n){var i=t.iterator[n.method];if(void 0===i){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=void 0,e(t,n),"throw"===n.method))return l;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}i=u(i,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,l;i=i.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,l):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,l)}(n,a);if(n){if(n===l)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===s)throw s="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s="executing";n=u(r,o,a);if("normal"===n.type){if(s=a.done?"completed":"suspendedYield",n.arg===l)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s="completed",a.method="throw",a.arg=n.arg)}}),t}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=s;var l={};function d(){}function h(){}function f(){}var t={},p=(o(t,i,function(){return this}),Object.getPrototypeOf),p=p&&p(p($([]))),m=(p&&p!==e&&c.call(p,i)&&(t=p),f.prototype=d.prototype=Object.create(t));function g(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function v(a,s){var t;this._invoke=function(n,i){function e(){return new s(function(e,t){!function t(e,n,i,r){var o,e=u(a[e],a,n);if("throw"!==e.type)return(n=(o=e.arg).value)&&"object"==typeof n&&c.call(n,"__await")?s.resolve(n.__await).then(function(e){t("next",e,i,r)},function(e){t("throw",e,i,r)}):s.resolve(n).then(function(e){o.value=e,i(o)},function(e){return t("throw",e,i,r)});r(e.arg)}(n,i,e,t)})}return t=t?t.then(e,e):e()}}function y(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function b(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(y,this),this.reset(!0)}function $(t){if(t){var n,e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(c.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e}).next=e}return{next:k}}function k(){return{value:void 0,done:!0}}return o(m,"constructor",h.prototype=f),o(f,"constructor",h),h.displayName=o(f,r,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,o(e,r,"GeneratorFunction")),e.prototype=Object.create(m),e},a.awrap=function(e){return{__await:e}},g(v.prototype),o(v.prototype,n,function(){return this}),a.AsyncIterator=v,a.async=function(e,t,n,i,r){void 0===r&&(r=Promise);var o=new v(s(e,t,n,i),r);return a.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},g(m),o(m,r,"Generator"),o(m,i,function(){return this}),o(m,"toString",function(){return"[object Generator]"}),a.keys=function(n){var e,i=[];for(e in n)i.push(e);return i.reverse(),function e(){for(;i.length;){var t=i.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=$,b.prototype={constructor:b,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&c.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var i=this;function e(e,t){return o.type="throw",o.arg=n,i.next=e,t&&(i.method="next",i.arg=void 0),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t],o=r.completion;if("root"===r.tryLoc)return e("end");if(r.tryLoc<=this.prev){var a=c.call(r,"catchLoc"),s=c.call(r,"finallyLoc");if(a&&s){if(this.prev<r.catchLoc)return e(r.catchLoc,!0);if(this.prev<r.finallyLoc)return e(r.finallyLoc)}else if(a){if(this.prev<r.catchLoc)return e(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return e(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&c.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}var o=(r=r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc?null:r)?r.completion:{};return o.type=e,o.arg=t,r?(this.method="next",this.next=r.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,i,r=this.tryEntries[t];if(r.tryLoc===e)return"throw"===(n=r.completion).type&&(i=n.arg,w(r)),i}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:$(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},a}function c(e,t,n,i,r,o,a){try{var s=e[o](a),c=s.value}catch(e){return n(e)}s.done?t(c):Promise.resolve(c).then(i,r)}function i(s){return function(){var e=this,a=arguments;return new Promise(function(t,n){var i=s.apply(e,a);function r(e){c(i,t,n,r,o,"next",e)}function o(e){c(i,t,n,r,o,"throw",e)}r(void 0)})}}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}h=p,f=[{key:"getPids",value:(d=i(C().mark(function e(t){var n;return C().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(n=window.appInfo.accountServiceApiUrls.pidsUrl).replace(":profileId",t),e.next=4,$.get(n);case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}},e)})),function(e){return d.apply(this,arguments)})},{key:"listAllAchievements",value:(l=i(C().mark(function e(n){return C().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(t){window.ID.GameAPI.Achievements.listAll({playerids:n},function(e){t(e)})}));case 1:case"end":return e.stop()}},e)})),function(e){return l.apply(this,arguments)})},{key:"profileAchievements",value:(u=i(C().mark(function e(t){var n,i;return C().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPids(t);case 2:return n=e.sent,e.next=5,this.sdkReady();case 5:return e.next=7,this.playtomicReady();case 7:return e.next=9,this.listAllAchievements(n);case 9:return i=e.sent,e.abrupt("return",this.groupAchievements(i));case 11:case"end":return e.stop()}},e,this)})),function(e){return u.apply(this,arguments)})},{key:"sdkReady",value:(a=i(C().mark(function e(){var t=this;return C().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){window.ID?e("resolved"):setTimeout(function(){return e(t.sdkReady())},200)}));case 1:case"end":return e.stop()}},e)})),function(){return a.apply(this,arguments)})},{key:"playtomicReady",value:(o=i(C().mark(function e(){return C().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){window.ID.GameAPI.init(null,null,function(){e("resolved")})}));case 1:case"end":return e.stop()}},e)})),function(){return o.apply(this,arguments)})},{key:"groupAchievements",value:function(e){var n={};if(!e.success)return n;var i,t=function(e,t){var n,i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e){if(e){if("string"==typeof e)return s(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length)return i&&(e=i),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,a=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return o=e.done,e},e:function(e){a=!0,r=e},f:function(){try{o||null==i.return||i.return()}finally{if(a)throw r}}}}(e.achievements);try{for(t.s();!(i=t.n()).done;)!function(){var t=i.value;if(n[t.appid]||(n[t.appid]=[]),n[t.appid].map(function(e){if(e.achievementid==t.achievementid)return!0})[0])return;n[t.appid].push(t)}()}catch(e){t.e(e)}finally{t.f()}return n}}],r(h.prototype,f),Object.defineProperty(h,"prototype",{writable:!1});var o,a,u,l,d,h,f=p;function p(){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this.profileAchievements.bind(this)}t.a=f},204:function(e,t,n){"use strict";t.a={config:{calculateHeight:!1},init:function(e){void 0!==e&&(this.config.calculateHeight=e),this.setupData(),$(".show-button.more").click(this.clickForMore.bind(this)),$(".show-button.less").click(this.clickForLess.bind(this))},setupData:function(){var n=this;$(".show-button.more").each(function(){var e=$(this).prev().height(),t=n.contentHeight($(this).prev());$(this).data("initial-height",e),e<t&&$(this).show()})},contentHeight:function(e){return this.config.calculateHeight?$.map(e.children().toArray(),function(e){return $(e).height()}).reduce(function(e,t){return e+t}):e.children().height()},clickForMore:function(e){e.preventDefault(),$(e.currentTarget).prev().height("auto"),$(e.currentTarget).hide(),$(e.currentTarget).next().show()},clickForLess:function(e){e.preventDefault(),$(e.currentTarget).prev().prev().height($(e.currentTarget).prev().data("initial-height")),$(e.currentTarget).hide(),$(e.currentTarget).prev().show(),this.scrollToHeading(e.currentTarget)},scrollToHeading:function(e){e=$(e).find("a").attr("href"),e=$(e).offset().top-150;$("html, body").animate({scrollTop:e},200)}}},207:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n((i=r).prototype,[{key:"checkPosition",value:function(){if($(window).scrollTop()>this.initialBottomPosition)return 0==$("."+this.fakeContainerClassName).length&&this.$container.before(this.fakeContainer),this.moveToRightCorner();1==$("."+this.fakeContainerClassName).length&&this.fakeContainer.remove(),this.moveToOriginalPosition()}},{key:"moveToRightCorner",value:function(){this.$container.addClass("player-right-corner")}},{key:"moveToOriginalPosition",value:function(){this.$container.removeClass("player-right-corner")}},{key:"onScroll",value:function(){var e=this,t=!1;$(window).scroll(function(){t=!0}),setInterval(function(){t&&(t=!1,e.checkPosition())},300)}}]),Object.defineProperty(i,"prototype",{writable:!1});var i=r;function r(e){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.$container=$(e),this.initialBottomPosition=this.$container.position().top+this.$container.outerHeight(!0),this.fakeContainerClassName="fake-container",this.fakeContainer=$("<div>").addClass(this.fakeContainerClassName),this.checkPosition(),this.onScroll()}window.Video=i},208:function(e,t){var n=function(){"use strict";function a(e,t,n,i){(i=(i=i||[]).concat([{name:"id",value:t},{name:"client_id",value:e},{name:"rating",value:n}]))["g-recaptcha-action"]="screenshot",i["g-recaptcha-response"]=window.recaptchaV3Token,e=e,t=t,n=n,$("#screenshot-rating-captcha-container > form").data({screenshot_id:t,client_id:e,rating:n}),$.ajax({url:"/ajax/rate_screenshot",type:"POST",data:i,timeout:1e4,success:o,error:c})}function i(e){var t;e&&(t=$("#screenshot-rating-message-"+e)).length&&(t.fadeIn(),setTimeout(function(){t.fadeOut()},5e3))}function s(){$("#screenshot-rating-captcha-container > form").submit(function(e){e.preventDefault()}),window.RecaptchaV3.triggerAction("screenshot","inline-badge2");var e=$("#screenshot-rating-captcha-container");e.show().parents(".display-with-screenshot-rating-captcha").show(),e.centerWindow(),e.children("form").unbind("submit").submit(t),e.find("#screenshot-rating-captcha-button-cancel").unbind("click").click(function(){return u(),!1})}var r=window.appInfo.errors.notLoggedInAndNoCaptcha,o=function(e){i("success")},c=function(e,t,n){400==e.status?(e=$.parseJSON(e.responseText)).error.code&&(e.error.code===r?s():console.log("Unknown error "+e.error.code)):(i("unknown-error"),"timeout"===t?console.log("Screenshot rating timeout error. Is Y8 Account up?"):console.log("Failed to rate screenshot: ",t))},u=function(e){$("#screenshot-rating-captcha-container").is(":visible")&&$("#screenshot-rating-captcha-container").slideUp("fast",function(){$(this).parents(".display-with-screenshot-rating-captcha").hide(),window.RecaptchaV3.reset(),e&&e()})},t=function(){var e=$("#screenshot-rating-captcha-container > form"),t=e.data("screenshot_id"),n=e.data("client_id"),i=e.data("rating"),r=e.serializeArray(),o=window.recaptchaV3Token;return u(function(){o?a(n,t,i,r):s()}),!1};return{rate:a}}();window.ScreenshotRating=n},209:function(e,t){function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}!function(e,n){"use strict";function t(e){(e=new s(e,"up")).submit(),(new UserInfo).isLoggedIn()||e.saveIdToCookies(e.itemId)}function i(e){new s(e,"down").submit()}var r,o=[],a=[],s=(l((r=c).prototype,[{key:"submit",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];VotingButtons.disable(),Voting.vote(this.itemId,this.direction,e).then(this.onSuccess.bind(this),this.onFailure.bind(this))}},{key:"callCallbacks",value:function(e,t){var n,i=function(e,t){var n,i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e){if(e){if("string"==typeof e)return u(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?u(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length)return i&&(e=i),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,a=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return o=e.done,e},e:function(e){a=!0,r=e},f:function(){try{o||null==i.return||i.return()}finally{if(a)throw r}}}}(e);try{for(i.s();!(n=i.n()).done;)n.value.apply(this.$button,t)}catch(e){i.e(e)}finally{i.f()}}},{key:"onSuccess",value:function(){this.callCallbacks(o,arguments)}},{key:"onFailure",value:function(e,t){t==Voting.ERROR_NOT_LOGGED_IN_AND_NO_CAPTCHA?(new VotingCaptcha).show().done(this.submit.bind(this)):this.callCallbacks(a,arguments)}},{key:"saveIdToCookies",value:function(){var e=n(".animations-active").length?"videos":"games";new LibraryCookieSetter("liked_"+e+"_ids",this.itemId)}}]),Object.defineProperty(r,"prototype",{writable:!1}),c);function c(e,t){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");e.stopPropagation(),e.preventDefault(),this.$button=n(e.currentTarget),this.direction=t,this.itemId=this.$button.data("item-id")}e.DesktopVoting={onSuccess:function(e){o.push(e)},onFailure:function(e){a.push(e)},init:function(){Voting.init(),n("#voting-button-yes").click(t),n("#voting-button-no").click(i),VotingButtons.enable()}}}(window,jQuery)},211:function(e,t){!function(H){"use strict";var N='<?xml version="1.0" encoding="utf-8"?><svg version="1.1"xmlns="http://www.w3.org/2000/svg"viewBox="0 12.705 512 486.59"x="0px" y="0px"xml:space="preserve"><polygon points="256.814,12.705 317.205,198.566 512.631,198.566 354.529,313.435 414.918,499.295 256.814,384.427 98.713,499.295 159.102,313.435 1,198.566 196.426,198.566 "/></svg>',s={starWidth:"32px",normalFill:"gray",ratedFill:"#f39c12",numStars:5,maxValue:5,precision:1,rating:0,fullStar:!1,halfStar:!1,readOnly:!1,spacing:"0px",rtl:!1,multiColor:null,onInit:null,onChange:null,onSet:null,starSvg:null};function U(e,t,n){return e===t?e=t:e===n&&(e=n),e}function B(e){return void 0!==e}function W(e){return t.test(e)?(e=t.exec(e),{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}):null}var t=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i;function q(e,t,n){n=n/100*(t-e);return n=1===(n=Math.round(e+n).toString(16)).length?"0"+n:n}function G(r,c){this.node=r.get(0);var n=this;r.empty().addClass("jq-ry-container");var u,t,l,d,h,e,i=H("<div/>").addClass("jq-ry-group-wrapper").appendTo(r),f=H("<div/>").addClass("jq-ry-normal-group").addClass("jq-ry-group").appendTo(i),o=H("<div/>").addClass("jq-ry-rated-group").addClass("jq-ry-group").appendTo(i),a=c.rating,s=!1;function p(e){B(e)||(e=c.rating);var e=(a=e)/u,t=e*l;1<e&&(t+=(Math.ceil(e)-1)*h),b(c.ratedFill),(t=c.rtl?100-t:t)<0?t=0:100<t&&(t=100),o.css("width",t+"%")}function m(){e=t*c.numStars+d*(c.numStars-1),l=t/e*100,h=d/e*100,r.width(e),p()}function g(e){e=c.starWidth=e;return t=window.parseFloat(c.starWidth.replace("px","")),f.find("svg").attr({width:c.starWidth,height:e}),o.find("svg").attr({width:c.starWidth,height:e}),m(),r}function v(e){return c.spacing=e,d=parseFloat(c.spacing.replace("px","")),f.find("svg:not(:first-child)").css({"margin-left":e}),o.find("svg:not(:first-child)").css({"margin-left":e}),m(),r}function y(e){return c.normalFill=e,(c.rtl?o:f).find("svg").attr({fill:c.normalFill}),r}var w=c.ratedFill;function b(e){var t,n;return c.multiColor?(t=+a/c.maxValue*100,e=function(e,t,n){if(!e||!t)return null;n=B(n)?n:0,e=W(e),t=W(t);var i=q(e.r,t.r,n),r=q(e.b,t.b,n);return"#"+i+q(e.g,t.g,n)+r}((n=c.multiColor||{}).startColor||"#c0392b",n.endColor||"#f1c40f",t)):w=e,c.ratedFill=e,(c.rtl?f:o).find("svg").attr({fill:c.ratedFill}),r}function $(e){c.rtl=e=!!e,y(c.normalFill),p()}function k(e){b((c.multiColor=e)||w)}function C(e){c.numStars=e,u=c.maxValue/c.numStars,f.empty(),o.empty();for(var t=0;t<c.numStars;t++)f.append(H(c.starSvg||N)),o.append(H(c.starSvg||N));return g(c.starWidth),y(c.normalFill),v(c.spacing),p(),r}function _(e){return c.maxValue=e,u=c.maxValue/c.numStars,c.rating>e&&S(e),p(),r}function x(e){return c.precision=e,S(c.rating),r}function L(e){return c.halfStar=e,r}function M(e){return c.fullStar=e,r}function j(e){var t,n,i=f.offset().left,r=i+f.width(),o=c.maxValue,e=e.pageX,a=0;if(e<i)a=0;else if(r<e)a=o;else{e=(e-i)/(r-i);if(0<d)for(var s=e*=100;0<s;)l<s?(a+=u,s-=l+h):(a+=s/l*u,s=0);else a=e*c.maxValue;i=(r=a)%u,e=u/2,t=c.halfStar,((n=c.fullStar)||t)&&(n||t&&e<i?r+=u-i:(r-=i,0<i&&(r+=e))),a=r}return c.rtl&&(a=o-a),parseFloat(a)}function O(e){return c.readOnly=e,r.attr("readonly",!0),R(),e||(r.removeAttr("readonly"),r.on("mousemove",I).on("mouseenter",I).on("mouseleave",E).on("click",T).on("rateyo.init",P).on("rateyo.change",A).on("rateyo.set",D)),r}function S(e){var t=c.maxValue;if("string"==typeof e&&("%"===e[e.length-1]&&(e=e.substr(0,e.length-1),_(t=100)),e=parseFloat(e)),0<=e&&e<=t)return e=parseFloat(e.toFixed(c.precision)),U(parseFloat(e),0,t),c.rating=e,p(),s&&r.trigger("rateyo.set",{rating:e}),r;throw Error("Invalid Rating, expected value between 0 and "+t)}function F(e){return c.onInit=e,r}function V(e){return c.onSet=e,r}function z(e){return c.onChange=e,r}function I(e){var e=j(e).toFixed(c.precision),t=c.maxValue;p(e=U(parseFloat(e),0,t)),r.trigger("rateyo.change",{rating:e})}function E(){var e=!1,t=navigator.userAgent||navigator.vendor||window.opera;(e=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))?!0:e)||(p(),r.trigger("rateyo.change",{rating:c.rating}))}function T(e){e=j(e).toFixed(c.precision),e=parseFloat(e);n.rating(e)}function P(e,t){c.onInit&&"function"==typeof c.onInit&&c.onInit.apply(this,[t.rating,n])}function A(e,t){c.onChange&&"function"==typeof c.onChange&&c.onChange.apply(this,[t.rating,n])}function D(e,t){c.onSet&&"function"==typeof c.onSet&&c.onSet.apply(this,[t.rating,n])}function R(){r.off("mousemove",I).off("mouseenter",I).off("mouseleave",E).off("click",T).off("rateyo.init",P).off("rateyo.change",A).off("rateyo.set",D)}this.rating=function(e){return B(e)?(S(e),r):c.rating},this.destroy=function(){var n,i;return c.readOnly||R(),G.prototype.collection=(n=r.get(0),i=this.collection,H.each(i,function(e){var t;if(n===this.node)return t=i.slice(0,e),e=i.slice(e+1,i.length),i=t.concat(e),!1}),i),r.removeClass("jq-ry-container").children().remove(),r},this.method=function(e){if(!e)throw Error("Method name not specified!");if(!B(this[e]))throw Error("Method "+e+" doesn't exist!");var t=Array.prototype.slice.apply(arguments,[]).slice(1);return this[e].apply(this,t)},this.option=function(e,t){if(!B(e))return c;var n;switch(e){case"starWidth":n=g;break;case"numStars":n=C;break;case"normalFill":n=y;break;case"ratedFill":n=b;break;case"multiColor":n=k;break;case"maxValue":n=_;break;case"precision":n=x;break;case"rating":n=S;break;case"halfStar":n=L;break;case"fullStar":n=M;break;case"readOnly":n=O;break;case"spacing":n=v;break;case"rtl":n=$;break;case"onInit":n=F;break;case"onSet":n=V;break;case"onChange":n=z;break;default:throw Error("No such option as "+e)}return B(t)?n(t):c[e]},C(c.numStars),O(c.readOnly),c.rtl&&$(c.rtl),this.collection.push(this),this.rating(c.rating,!0),s=!0,r.trigger("rateyo.init",{rating:c.rating})}function c(e,t){var n;return H.each(t,function(){if(e===this.node)return n=this,!1}),n}G.prototype.collection=[],window.RateYo=G,H.fn.rateYo=function(){return function(t){var r=G.prototype.collection,e=H(this);if(0===e.length)return e;var i,o,a,n=Array.prototype.slice.apply(arguments,[]);if(0===n.length)t=n[0]={};else{if(1!==n.length||"object"!=typeof n[0]){if(1<=n.length&&"string"==typeof n[0])return i=n[0],o=n.slice(1),a=[],H.each(e,function(e,t){t=c(t,r);if(!t)throw Error("Trying to set options before even initialization");var n=t[i];if(!n)throw Error("Method "+i+" does not exist!");n=n.apply(t,o);a.push(n)}),a=1===a.length?a[0]:a;throw Error("Invalid Arguments")}t=n[0]}return t=H.extend({},s,t),H.each(e,function(){var e=c(this,r);if(e)return e;var e=H(this),n={},i=H.extend({},t);return H.each(e.data(),function(e,t){0===e.indexOf("rateyo")&&(e=(e=e.replace(/^rateyo/,""))[0].toLowerCase()+e.slice(1),n[e]=t,delete i[e])}),new G(H(this),H.extend({},n,i))})}.apply(this,Array.prototype.slice.apply(arguments,[]))}}(window.jQuery)},212:function(e,t){window.ItemDiv=function(e,t){this.domId=e,this.$domElt=$(e),this.$container=t.$domElt,this.initialWidth=this.$container.data("item-width"),this.initialHeight=this.$container.data("item-height"),this.supportsResizing=this.$container.data("item-supports-resizing"),this.ratioTolerant=this.$container.data("item-ratio-tolerant"),this.ratio=this.initialWidth/this.initialHeight,this.maximize=1==this.$container.data("maximize"),this.initialFitWidth=null,this.intialFitHeight=null,this.initialFitRatio=null,this.fitInto=function(e,t,n){t=void 0!==t?t:0,n=void 0!==n?n:0;var i={};if(this.supportsResizing)return(i=this.ratioTolerant?{width:e.currentWidth(),height:e.currentHeight()}:this.ratio>e.currentRatio()?{width:e.currentWidth(),height:e.currentWidth()/this.ratio}:{width:e.currentHeight()*this.ratio,height:e.currentHeight()}).width=i.width-t,i.height=i.height-n,this.changeSizeWith(i),i},this.initFitSize=function(e){this.initialFitWidth||(this.initialFitWidth=e.width||this.initialWidth,this.initialFitHeight=e.height||this.initialHeight,this.initialFitRatio=this.initialFitWidth/this.initialFitHeight)},this.changeSizeWith=function(e){var t;e!={}&&(this.$domElt.each(function(){$(this).width(e.width),$(this).height(e.height),"mobile"==window.UserAgent.device.type&&($(this).css("max-width",e.width),$(this).css("max-height",e.height))}),(t=$("#afgv")).css(e).attr(e),t.find("embed").css(e).attr(e),window.UserAgent.device.type||((t=$("#html5-ima-overlay")).css(e).attr(e),t.find("iframe").css(e).attr(e)))},this.currentWidth=function(){return this.$domElt.length?this.$domElt.width():this.initialWidth},this.currentHeight=function(){return this.$domElt.length?this.$domElt.height():this.initialHeight},this.refreshDom=function(){this.$domElt=$(this.domId)}},window.ContainerDiv=function(e){this.$domElt=$(e),this.initialWidth=this.$domElt.width(),this.initialHeight=this.$domElt.height(),this.initialRatio=this.initialWidth/this.initialHeight,this.currentWidth=function(){return this.$domElt.width()},this.currentHeight=function(){return this.$domElt.height()},this.currentRatio=function(){return this.currentWidth()/this.currentHeight()}}},213:function(e,t,n){"use strict";n(214),n(215),n(201);var i=n(39);window.ItemView=function(e,t){this.itemDiv=e,this.containerDiv=t,this.init=function(){this.bodyInitialWidth=$("body .container").width(),this.itemRenderingInitialWidth=$(".item-rendering").width(),this.itemDiv.initFitSize({}),$(".game-control-container").width(this.itemDiv.currentWidth()),ItemMaximizer.init(this),ItemResizer.init(this),ItemEmbed.init(),this.saveToLibrary()},this.dealWithContainerSize=function(){this.itemDiv.currentWidth()<=this.itemRenderingInitialWidth?$(".item-rendering").removeClass("wider"):$(".item-rendering").addClass("wider")},this.saveToLibrary=function(){var e=$("body").data("item-id"),t=$(".animations-active").length?"watched_videos_ids":"played_games_ids";null!=e&&new i.a(t,e)}}},214:function(e,t){window.ItemResizer={init:function(e){this.itemView=e,this.itemDiv=e.itemDiv,this.containerDiv=e.containerDiv,this.$resizerContainer=$("#item-resizer"),this.$sliderElement=this.$resizerContainer.find("#item-resizer-slider"),$("#adjust-button").click(this.adjustItemSize.bind(this)),$("#item-resizer-remove-adjust-button").click(this.removeAdjustItemSize.bind(this)),this.$resizerContainer.fadeIn(),e={min:+this.$sliderElement.data("min"),max:98*$(window).width()/100,value:+this.itemDiv.initialFitWidth,step:+this.$sliderElement.data("step")},this.$sliderElement.slider(e),this.$sliderElement.bind("slide slidechange",this.onSliderChange.bind(this)),this.$resizerContainer.find(".item-resizer-resize-button").click(this.zoomOnItem.bind(this)),this.$resizerContainer.find("#item-resizer-reset-size-button").click(this.resetItemSize.bind(this))},adjustItemSize:function(e){e.preventDefault(),$(".adjust-layer").toggle(),$(window).scrollTop($("nav.navbar").innerHeight()-$("#item-resizer").innerHeight()-35)},removeAdjustItemSize:function(e){e.preventDefault(),$(".adjust-layer").hide()},onSliderChange:function(e,t){var n=this.$sliderElement.slider("option","step"),t=t.value-1,i={width:t,height:t/this.itemDiv.initialFitRatio};t!=this.itemDiv.currentWidth()&&(this.itemDiv.changeSizeWith(i),this.itemView.dealWithContainerSize(),i=Math.round(t/this.itemDiv.initialFitWidth*100),this.$resizerContainer.find("#item-resizer-label").find("span").text(i),this.$resizerContainer.find("#item-resizer-reset-size-button").css("display",Math.abs(t-this.itemDiv.initialFitWidth)<n?"none":"inline"))},resetItemSize:function(e){e.preventDefault(),this.$sliderElement.slider("value",this.itemDiv.initialFitWidth)},zoomOnItem:function(e){e.preventDefault();var t=10*-this.$sliderElement.slider("option","step");"up"===$(e.currentTarget).data("direction")&&(t=-t),this.$sliderElement.slider("value",+this.$sliderElement.slider("value")+t)}}},215:function(e,t){window.ItemMaximizer={init:function(e){this.itemView=e,this.itemDiv=e.itemDiv,this.containerDiv=e.containerDiv,$("#maximize-button").click(this.maximizeItemSize.bind(this))},renderMaximizedItemOverlay:function(){var e=$("<div>").addClass("ui-overlay maximized-item-overlay"),t=$("<div>").addClass("ui-widget-overlay"),n=$("<div>"+I18n.t("javascripts.item-maximizer.exit",{defaultValue:"EXIT FULL SCREEN"})+"</div>").addClass("unmaximize-button").attr("id","unmaximize-button").button({icons:{primary:"ui-icon-closethick"},text:!1}).click(this.unmaximizeItemSize.bind(this));return e.append(t),e.append(n),$(document.body).append(e)},maximizeItemSize:function(e){e.preventDefault(),$(document).scrollTop(0),this.renderMaximizedItemOverlay(),this.containerDiv.$domElt.addClass("maximized"),$(document.body).addClass("maximized"),this.itemDiv.fitInto(this.containerDiv,0,60)},unmaximizeItemSize:function(e){e.preventDefault(),$(document.body).removeClass("maximized"),this.containerDiv.$domElt.removeClass("maximized"),$(".maximized-item-overlay").remove(),this.itemDiv.fitInto(this.containerDiv)}}},216:function(e,t){var i={prebidTimeout:1300,failsafeTimeout:3e3,initAdserver:function(){window.pbjs.initAdserverSet||(window.pbjs.initAdserverSet=!0,window.googletag.cmd.push(function(){window.pbjs.que.push(function(){window.pbjs.setTargetingForGPTAsync(),window.googletag.pubads().refresh(i.definedSlots.pbjs)})}))},init:function(e,t,n){window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],window.idhb=window.idhb||{},window.idhb.que=window.idhb.que||[],window.googletag.cmd.push(function(){window.googletag.pubads().disableInitialLoad()}),n?(console.log("=== pbjs definitons"),window.pbjs.que.push(function(){window.pbjs.bidderSettings={districtm:{bidCpmAdjustment:function(e){return.85*e}}},window.pbjs.setConfig({priceGranularity:i.customConfigObject,timeoutBuffer:300,bidderTimeout:i.prebidTimeout,bidderSequence:"random",enableSendAllBids:!0,userSync:{syncsPerBidder:50,filterSettings:{iframe:{bidders:"*",filter:"include"}}}}),setTimeout(i.initAdserver,i.failsafeTimeout),window.pbjs.que.push(function(){window.pbjs.addAdUnits(i.allPrebidAdUnits)}),window.googletag.cmd.push(function(){i.definedSlots.pbjs.push(window.googletag.defineSlot("/83578953/Y8_Top_of_Games",[[728,90],[468,60]],"Y8_Top_of_Games").setTargeting(""+e,""+t).addService(window.googletag.pubads()),window.googletag.defineSlot("/83578953/Y8_Right_of_games_1",[[300,250],[250,250]],"Y8_Right_of_games_1").setTargeting(""+e,""+t).addService(window.googletag.pubads()),window.googletag.defineSlot("/83578953/Y8_Right_of_games_2",[[300,250],[250,250]],"Y8_Right_of_games_2").setTargeting(""+e,""+t).addService(window.googletag.pubads())),window.googletag.pubads().enableSingleRequest(),window.googletag.enableServices(),i.requestHeaderBidding()})})):(console.log("=== idhb definitons"),window.idhb.que.push(function(){window.googletag.cmd.push(function(){i.definedSlots.idhb.push(googletag.defineSlot("/1015413,83578953/y8.com_banner1",[[728,90],[468,60]],"Y8_Top_of_Games").setTargeting(""+e,""+t).addService(window.googletag.pubads()),googletag.defineSlot("/1015413,83578953/y8.com_banner2",[[300,250],[250,250]],"Y8_Right_of_games_1").setTargeting(""+e,""+t).addService(window.googletag.pubads()),googletag.defineSlot("/1015413,83578953/y8.com_banner3",[[300,250],[250,250]],"Y8_Right_of_games_2").setTargeting(""+e,""+t).addService(window.googletag.pubads())),window.googletag.pubads().enableSingleRequest(),window.googletag.enableServices(),i.requestHeaderliftAds()})}))},requestHeaderBidding:function(){window.pbjs.que.push(function(){window.pbjs.requestBids({bidsBackHandler:i.initAdserver,timeout:i.prebidTimeout})})},requestHeaderliftAds:function(){window.idhb.que.push(function(){var e=i.definedSlots.idhb.map(function(e){return e.getSlotElementId()});window.idhb.requestAds({slotIds:e,callback:function(){window.googletag.cmd.push(function(){window.googletag.pubads().refresh(i.definedSlots[idhb])})}})})},definedSlots:{pbjs:[],idhb:[]},isDesktop:function(){return window.UserAgent?!window.UserAgent.device.type:1200<window.innerWidth},customConfigObject:{buckets:[{precision:2,min:.01,max:100,increment:.01},{precision:2,min:100,max:1e3,increment:1}]},allPrebidAdUnits:[{code:"Y8_Top_of_Games",mediaTypes:{banner:{sizes:[[728,90]]}},bids:[{bidder:"districtmDMX",params:{dmxid:"525625",memberid:"102001"}},{bidder:"districtm",params:{placementId:"19328759"}},{bidder:"oftmedia",params:{placementId:"18716602"}},{bidder:"triplelift",params:{inventoryCode:"61493"}},{bidder:"ix",params:{siteId:"516138",size:[728,90]}},{bidder:"sharethrough",params:{pkey:"9VJWNM7VnL97YRPvfEcpawcV"}},{bidder:"improvedigital",params:{placementId:22516011}},{bidder:"onetag",params:{pubId:"72d84e044a39576"}},{bidder:"appnexus",params:{placementId:"21851004"}},{bidder:"adform",params:{mid:928579}},{bidder:"smartadserver",params:{siteId:386776,pageId:1334867,formatId:85671}},{bidder:"openx",params:{delDomain:"adsparc-d.openx.net",unit:"544107570"}},{bidder:"emx_digital",params:{tagid:"150151"}},{bidder:"rhythmone",params:{placementId:"216840"}},{bidder:"grid",params:{uid:"97828"}}]},{code:"Y8_Right_of_games_1",mediaTypes:{banner:{sizes:[[300,250]]}},bids:[{bidder:"districtmDMX",params:{dmxid:"525626",memberid:"102001"}},{bidder:"districtm",params:{placementId:"19328760"}},{bidder:"oftmedia",params:{placementId:"18716602"}},{bidder:"triplelift",params:{inventoryCode:"61495"}},{bidder:"ix",params:{siteId:"516139",size:[300,250]}},{bidder:"sharethrough",params:{pkey:"Mt7sgDa9dUTpZA4Ccc8pKGhu"}},{bidder:"improvedigital",params:{placementId:22516012}},{bidder:"onetag",params:{pubId:"72d84e044a39576"}},{bidder:"appnexus",params:{placementId:"21851005"}},{bidder:"adform",params:{mid:928582}},{bidder:"smartadserver",params:{siteId:386776,pageId:1334864,formatId:85162}},{bidder:"openx",params:{delDomain:"adsparc-d.openx.net",unit:"544107571"}},{bidder:"emx_digital",params:{tagid:"150152"}},{bidder:"rhythmone",params:{placementId:"216840"}},{bidder:"grid",params:{uid:"97827"}}]},{code:"Y8_Right_of_games_2",mediaTypes:{banner:{sizes:[[300,250]]}},bids:[{bidder:"districtmDMX",params:{dmxid:"525627",memberid:"102001"}},{bidder:"districtm",params:{placementId:"19328761"}},{bidder:"oftmedia",params:{placementId:"18716602"}},{bidder:"triplelift",params:{inventoryCode:"61498"}},{bidder:"ix",params:{siteId:"516140",size:[300,250]}},{bidder:"sharethrough",params:{pkey:"Um88RDejruTHzmaksR2Jc31y"}},{bidder:"improvedigital",params:{placementId:22516013}},{bidder:"onetag",params:{pubId:"72d84e044a39576"}},{bidder:"appnexus",params:{placementId:"21851005"}},{bidder:"adform",params:{mid:928592}},{bidder:"smartadserver",params:{siteId:386776,pageId:1334862,formatId:85162}},{bidder:"openx",params:{delDomain:"adsparc-d.openx.net",unit:"544107572"}},{bidder:"emx_digital",params:{tagid:"150153"}},{bidder:"rhythmone",params:{placementId:"216840"}},{bidder:"grid",params:{uid:"97825"}}]}]};window.HeaderBidding=i},217:function(e,t){!function(e){"use strict";function t(){return Cookies.get("AFGV")}e.cookieTimer={set:function(){var e=new Date;e.setTime(e.getTime()+18e5),Cookies.set("AFGV",!0,{expires:e,path:"/"})},get:t,hasExpired:function(){return!t()}}}(window.ads=window.ads||{},jQuery)},218:function(e,t){function n(e){Html5Ima.call(this,e)}function i(e){Html5Ima.call(this,e)}function r(e,t){return function(){t.apply(e,arguments)}}function o(e){this.adTagUrl=e.adTagUrl,this.overlayContainer=e.overlayContainer,this.loadingContainer=e.loadingContainer,this.container=e.container,this.adsController=new google.outstream.AdsController(this.container[0],r(this,this.onAdLoaded),r(this,this.onAdDone))}window.Html5Ima=(o.prototype.load=function(){this.overlayContainer.css("display","block"),this.requestAds()},o.prototype.onAdLoaded=function(){this.loadingContainer.hide(),this.adsController.showAd();var e=this;delay(function(){e.overlayContainer.find("#adContainer div div:first-child").css("display","inline")},1e3)},o.prototype.onAdDone=function(){this.overlayContainer.hide(),$(document).triggerHandler("adDisplayDone")},o.prototype.requestAds=function(){this.adsController.initialize(),this.adsController.requestAds(this.adTagUrl)},o.prototype.resizeAdsController=function(){this.adsController.resize(this.container.width(),this.container.height())},o),window.Html5ImaDesktop=(Object.create&&(i.prototype=Object.create(Html5Ima.prototype)),i),window.Html5ImaMobile=((n.prototype=Object.create?Object.create(Html5Ima.prototype):n.prototype).load=function(){this.overlayContainer.removeAttr("style"),this.resetAdContainerSize(),this.resizeListener(),Html5Ima.prototype.load.call(this)},n.prototype.resetAdContainerSize=function(){this.container.css("width",this.overlayContainer.css("width")),this.container.css("height",this.overlayContainer.css("height"))},n.prototype.resizeListener=function(){var e=this;$(window).on("resize",function(){delay(function(){window.mobileView.resize(),e.resetAdContainerSize(),e.resizeAdsController()},500)})},n);var a=parseInt(window.UserAgent.browser.major,10);window.Html5ImaCompatibility={desktop:function(){var e=window.UserAgent.browser.name;return"Chrome"==e||"Opera"==e||"Edge"==e||"Firefox"==e&&4<=a||"Safari"==e&&5<=a||"IE"==e&&11<=a},mobile:function(){var e=window.UserAgent.browser.name;return"Chrome"==e||"Opera"==e||"Mobile Safari"==e||"Android Browser"==e&&2.3<=a||"Safari"==e&&6<=a}}},219:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function")}var r;n((r=i).prototype,[{key:"enable",value:function(){var e=this;window.ads=window.ads||{},ads.preloader=function(){e.preloader({overlayContainer:$("#html5-ima-overlay"),loadingContainer:$("#html5-ima-loading"),container:$("#html5-ima"),adTagUrl:e.adTagUrl()}).load(),ads.cookieTimer.set()}}},{key:"mobile",get:function(){return"mobile"==window.UserAgent.device.type}},{key:"preloader",value:function(e){return new(this.mobile?Html5ImaMobile:Html5ImaDesktop)(e)}},{key:"adTagUrl",value:function(){return(new(this.mobile?MobileVideoAdManagerConfig:VideoAdManagerConfig)).url}}]),Object.defineProperty(r,"prototype",{writable:!1}),(new i).enable()},220:function(e,t){function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function o(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=a(n),t=(e=i?(e=a(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(e=t))throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var n=function(){var e=i,t=ItemLoader;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t);var n=o(i);function i(){var e=this,t=i;if(e instanceof t)return n.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}();window.SwfLoader=n},221:function(e,t){function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(i)return(i=Object.getOwnPropertyDescriptor(i,t)).get?i.get.call(arguments.length<3?e:n):i.value}).apply(this,arguments)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function s(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=c(n),t=(e=i?(e=c(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(e=t))throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var n=function(){var e=i,t=ItemLoader;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t);var n=s(i);function i(e){if(this instanceof i)return(e=n.call(this,e)).url=$("#unity_webgl_game_url").attr("href"),e;throw new TypeError("Cannot call a class as a function")}return r((e=i).prototype,[{key:"display",value:function(){this.$itemDiv.attr("src",this.$itemDiv.data("src")),o(c(i.prototype),"display",this).call(this)}}]),Object.defineProperty(e,"prototype",{writable:!1}),i}();window.Html5Loader=n},222:function(e,t){function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function o(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=a(n),t=(e=i?(e=a(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(e=t))throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var n=function(){var e=i,t=Html5Loader;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t);var n=o(i);function i(){var e=this,t=i;if(e instanceof t)return n.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}();window.UnityLoader=n},223:function(e,t){r=i=n=null,o=!1,a=1,s=function(){o||c(),$(".choose-avatar-popup").find(".error").hide(),$(".choose-avatar-popup").show()},c=function(){h(),u(),f(),$(".btn-confirm").click(m),$(".btn-upload").click(g),o=!0},u=function(){$(".avatar-preset-wrapper").bind("click",function(){var e=$(this).data("id");n==e?l():e&&d(e,$(this))}),$(".set-"+a).show()},l=function(){n=null,$(".btn-confirm").addClass("disabled"),$(".avatar-preset-wrapper").removeClass("active"),$(".avatar-preset-wrapper").removeClass("dimmed")},d=function(e,t){n=e,$(".avatar-preset-wrapper").removeClass("active"),t.addClass("active"),t.removeClass("dimmed"),$(".avatar-preset-wrapper:not(.active)").addClass("dimmed"),$(".btn-confirm").removeClass("disabled")},h=function(){$(".choose-avatar-popup .btn-close").click(function(e){e.preventDefault(),$(".choose-avatar-popup").hide()})},f=function(){$(".choose-avatar-popup .btn-animation").click(function(){$(this).hide(),$(".choose-avatar-popup .btn-refresh").show(),$(".choose-avatar-popup .btn-refresh").click()}),$(".choose-avatar-popup .btn-refresh").click(p)},p=function(){l(),$(".set-"+a).hide(),a=a<9?a+1:1,$(".set-"+a).fadeIn()},m=function(e){e.preventDefault(),n&&$.ajax({url:"/ajax/choose_avatar_preset",data:{choise:n},method:"POST",timeout:1e4}).done(function(e){1==e.success&&(i(),$(".choose-avatar-popup").hide())}).fail(function(){$(".choose-avatar-popup").find(".error").show()})},g=function(e){e.preventDefault();e=window.appInfo.accountServiceApiUrls.profilePictureUrl.replace(":uid",r);window.open(e,"_blank"),window.focus(),$(".choose-avatar-popup").hide(),i()};var n,i,r,o,a,s,c,u,l,d,h,f,p,m,g,v={init:function(e){if(i=e,r=Cookies.get("user_pid"),-1===$(".avatar").prop("src").indexOf("default")||!r)return i();$.ajax({url:window.appInfo.accountServiceApiUrls.profileJsonUrl.replace(":uid",r),timeout:1e4}).done(function(e){(e&&e.profile&&1!=e.profile.avatar_present?s:i)()}).fail(function(){i()})}};window.AvatarChooser=v},224:function(e,t){window.IdnetLeaderboard={init:function(){$("#idnet-leaderboard").each(function(){function e(){options={appid:l,page:1,perpage:p},ID.GameAPI.Leaderboards.tables(options,function(e){if($(".leaderboard-loader").remove(),!e.success)return $(".idnet-leaderboard").hide(),$(".show-block-leaderboard").hide(),!1;"tables"in e&&0==e.tables.length?(y="y8_account",C(1).success(function(e){if(0==e.data.length)return!1;D(1,e),f=1<e.data[0].numscores?Math.ceil(e.data[0].numscores/p):1,jQuery.each(e.data,function(e,t){t.playerid=t.user.id,t.rank=e+1,t.playername=t.user.nickname,t.points=t.score.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),t.imageurl=u,d.push(t),e<=4&&i.append(r(t))}),j(),c&&_($("#idnet-leaderboard")),b()})):(y="playtomic",n=e.tables[0],k(1,function(e){if(!e.success)return!1;D(1,e),f=10,jQuery.each(e.scores,function(e,t){999999999<t.points?(t.points=t.points/1e6^0,t.points=t.points.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+"m"):999999<t.points?(t.points=t.points/1e3^0,t.points=t.points.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+"k"):t.points=t.points.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),t.imageurl=u,d.push(t),e<=4&&i.append(r(t))}),O(),c&&_($("#idnet-leaderboard")),b()})),b()})}var n,i=$(this),t=$("#leaderboard-template",i).html(),r=Handlebars.compile(t),o=$("#idnet-leaderboard-pagination"),a=$(".profile-info").data("account-leaderboard-api-url"),s=window.appInfo.accountServiceApiUrls.profileAvatarUrl,c=i.data("load-avatars"),u=i.data("default-avatar"),l=$("body").data("idnet-app-id"),d=[],h=$(".idnet-leaderboard-body"),f=0,p=i.data("per-page")||10,m=i.data("visible-pages")||8,g={},v="alltime",y="y8_account",w=!1,b=function(){i.find("abbr.timeago").timeago()},k=function(e,t){options={appid:l,table:n,page:e,perpage:p,mode:v},ID.GameAPI.Leaderboards.listCustom(options,t)},C=function(e){return data={client_id:l,page:e,per_page:p,period:v},jQuery.ajax({url:a,data:data,type:"GET",contentType:"text/plain",dataType:"json"})},_=function(e){e.find(".member").each(function(){var e=$(this).data("playerid"),t=$(this).find("img");jQuery.ajax({url:s.replace(":uid",e),type:"GET",contentType:"text/plain",dataType:"json"}).success(function(e){t.attr("src",(e=e.profile.avatar)?e.replace("large","medium"):u)})})},x=function(e,t){e.preventDefault(),"y8_account"==y?I(t):"playtomic"==y&&S(t),_($(".idnet-leaderboard-body"))},j=function(){"alltime"==v?v="alltime":"last30days"==v?v="month":"last7days"==v?v="week":"today"==v?v="day":"newest"==v&&(v="newest"),A(1,function(e){if(0==e.length)return!1;D(1,e),T(1,e),f=10,o.twbsPagination({first:I18n.t("js.pagination.first",{defaultValue:"First"}),prev:I18n.t("js.pagination.previous",{defaultValue:"Previous"}),next:I18n.t("js.pagination.next",{defaultValue:"Next"}),last:I18n.t("js.pagination.last",{defaultValue:"Last"}),totalPages:f,visiblePages:m,onPageClick:x}),b()})},O=function(){P(1,function(e){if(!e.success)return!1;D(1,e),E(e),f=10,o.twbsPagination({first:I18n.t("js.pagination.first",{defaultValue:"First"}),prev:I18n.t("js.pagination.previous",{defaultValue:"Previous"}),next:I18n.t("js.pagination.next",{defaultValue:"Next"}),last:I18n.t("js.pagination.last",{defaultValue:"Last"}),totalPages:f,visiblePages:m,onPageClick:x}),b()})},S=function(t){P(t,function(e){if(!e.success)return!1;D(t,e),E(e),b()})},I=function(t){A(t,function(e){if(0==e.length)return!1;D(t,e),T(t,e),b()})},E=function(e){d=[],jQuery.each(e.scores,function(e,t){t.points=t.points.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),t.imageurl=u,d.push(t)}),h.html(""),jQuery.each(d,function(e,t){h.append(r(t))})},T=function(n,e){d=[],jQuery.each(e.data,function(e,t){t.playerid=t.user.id,t.rank=p*(n-1)+e+1,t.playername=t.user.nickname,t.points=t.score.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),t.imageurl=u,d.push(t)}),h.html(""),jQuery.each(d,function(e,t){h.append(r(t))})},P=function(e,t){var n=g[v+":"+e];n&&0!=n.length?t(n):k(e,t)},A=function(e,t){var n=g[v+":"+e];n&&0!=n.length?t(n):C(e).success(t)},D=function(e,t){g[v+":"+e]=t};$(".leaderboard-filter-box select").change(function(){v=$(this).children("option:selected").val(),o.empty(),o.removeData("twbs-pagination"),o.unbind("page"),"y8_account"==y?j():"playtomic"==y&&O()}),$(".idnet-leaderboard-popup-toggle").click(function(e){e.preventDefault(),e.stopPropagation(),$(".idnet-leaderboard-popup").visible(!0)&&_($(".idnet-leaderboard-body")),$(".idnet-leaderboard-popup").fadeToggle()}),$(".idnet-leaderboard-popup, .close-leaderboard").click(function(){$(".idnet-leaderboard-popup").fadeOut()}),$(".idnet-leaderboard-popup-inner").click(function(e){e.stopPropagation()}),$(".idnet-leaderboard").visible(!0)?e():$(document).on("scroll",function(){$(".idnet-leaderboard").visible(!0)&&0==w&&(e(),w=!0)})})},dealtWithIdnetPanel:function(){$(".toogle-idnet-panel").click(function(e){var t;$("#points-frame").attr("src")||(t=$(".profile-info").data("account-leaderboard-points-url"),$("#points-frame").attr("src",t)),e.preventDefault(),e.stopPropagation(),$(".idnet-points-modal").fadeToggle()}),$(".idnet-points-modal .close-modal").click(function(e){$(".idnet-points-modal").fadeOut(),e.preventDefault()})}}},225:function(e,t,n){"use strict";n(226),n(227),n(228),n(209);var r,o,n=n(39);function a(e){return i("success"),e}function s(e,t){t=function(e){try{return 400!=e.status?void 0:r.parseJSON(e.responseText).error.code}catch(e){return}}(t);switch(t){case self.ERROR_NOT_LOGGED_IN_AND_NO_CAPTCHA:break;case self.ERROR_TOO_MANY_VOTES_PER_ITEM:i("no-more");break;case self.ERROR_TOO_MANY_VOTES_PER_SITE:i("max-reached");break;default:i("unknown-error",!0)}return r.Deferred().reject(e,t)}function i(e,t){e&&(r("#voting-message-no-more").hide(),r("#voting-message-max-reached").hide(),r("#voting-message-unknown-error").hide(),0!==(e=r("#voting-message-"+e)).length&&(e.fadeIn(),t&&setTimeout("VotingButtons.show({ animated: true })",5e3)))}window.LibraryCookieSetter=n.a,n=window,r=jQuery,n.Voting={ERROR_NOT_LOGGED_IN_AND_NO_CAPTCHA:1,ERROR_TOO_MANY_VOTES_PER_ITEM:2,ERROR_TOO_MANY_VOTES_PER_SITE:3,init:function(){o=r.now()},vote:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],i=(r.now()-o)/1e3;return new VotingRequest(e,t,i,n).send().then(a,s)}}},226:function(e,t){function C(){"use strict";C=function(){return a};var a={},e=Object.prototype,c=e.hasOwnProperty,t="function"==typeof Symbol?Symbol:{},i=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",r=t.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(e){o=function(e,t,n){return e[t]=n}}function s(e,t,n,i){var r,o,a,s,t=t&&t.prototype instanceof d?t:d,t=Object.create(t.prototype),i=new b(i||[]);return t._invoke=(r=e,o=n,a=i,s="suspendedStart",function(e,t){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===e)throw t;return k()}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){n=function e(t,n){var i=t.iterator[n.method];if(void 0===i){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=void 0,e(t,n),"throw"===n.method))return l;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}i=u(i,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,l;i=i.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,l):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,l)}(n,a);if(n){if(n===l)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===s)throw s="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s="executing";n=u(r,o,a);if("normal"===n.type){if(s=a.done?"completed":"suspendedYield",n.arg===l)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s="completed",a.method="throw",a.arg=n.arg)}}),t}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=s;var l={};function d(){}function h(){}function f(){}var t={},p=(o(t,i,function(){return this}),Object.getPrototypeOf),p=p&&p(p($([]))),m=(p&&p!==e&&c.call(p,i)&&(t=p),f.prototype=d.prototype=Object.create(t));function g(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function v(a,s){var t;this._invoke=function(n,i){function e(){return new s(function(e,t){!function t(e,n,i,r){var o,e=u(a[e],a,n);if("throw"!==e.type)return(n=(o=e.arg).value)&&"object"==typeof n&&c.call(n,"__await")?s.resolve(n.__await).then(function(e){t("next",e,i,r)},function(e){t("throw",e,i,r)}):s.resolve(n).then(function(e){o.value=e,i(o)},function(e){return t("throw",e,i,r)});r(e.arg)}(n,i,e,t)})}return t=t?t.then(e,e):e()}}function y(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function b(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(y,this),this.reset(!0)}function $(t){if(t){var n,e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(c.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e}).next=e}return{next:k}}function k(){return{value:void 0,done:!0}}return o(m,"constructor",h.prototype=f),o(f,"constructor",h),h.displayName=o(f,r,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,o(e,r,"GeneratorFunction")),e.prototype=Object.create(m),e},a.awrap=function(e){return{__await:e}},g(v.prototype),o(v.prototype,n,function(){return this}),a.AsyncIterator=v,a.async=function(e,t,n,i,r){void 0===r&&(r=Promise);var o=new v(s(e,t,n,i),r);return a.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},g(m),o(m,r,"Generator"),o(m,i,function(){return this}),o(m,"toString",function(){return"[object Generator]"}),a.keys=function(n){var e,i=[];for(e in n)i.push(e);return i.reverse(),function e(){for(;i.length;){var t=i.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=$,b.prototype={constructor:b,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&c.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var i=this;function e(e,t){return o.type="throw",o.arg=n,i.next=e,t&&(i.method="next",i.arg=void 0),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t],o=r.completion;if("root"===r.tryLoc)return e("end");if(r.tryLoc<=this.prev){var a=c.call(r,"catchLoc"),s=c.call(r,"finallyLoc");if(a&&s){if(this.prev<r.catchLoc)return e(r.catchLoc,!0);if(this.prev<r.finallyLoc)return e(r.finallyLoc)}else if(a){if(this.prev<r.catchLoc)return e(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return e(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&c.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}var o=(r=r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc?null:r)?r.completion:{};return o.type=e,o.arg=t,r?(this.method="next",this.next=r.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,i,r=this.tryEntries[t];if(r.tryLoc===e)return"throw"===(n=r.completion).type&&(i=n.arg,w(r)),i}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:$(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},a}function s(e,t,n,i,r,o,a){try{var s=e[o](a),c=s.value}catch(e){return n(e)}s.done?t(c):Promise.resolve(c).then(i,r)}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.initDeferred(),this.$container=o("#voting-captcha-container"),this.$form=o("> form",this.$container)}var r,o,c,a,u;r=window,o=jQuery,r.VotingCaptcha=(r=i,u=[{key:"initDeferred",value:function(){this.deferred=o.Deferred(),this.deferred.always(this.reset.bind(this))}},{key:"show",value:function(){return this.$container.show().parents(".display-with-voting-captcha").show(),this.$container.centerWindow(),this.triggerRecaptcha(),this.deferred.promise()}},{key:"triggerRecaptcha",value:(c=C().mark(function e(){return C().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.RecaptchaV3.triggerAction("vote");case 2:this.onSuccess();case 3:case"end":return e.stop()}},e,this)}),a=function(){var e=this,a=arguments;return new Promise(function(t,n){var i=c.apply(e,a);function r(e){s(i,t,n,r,o,"next",e)}function o(e){s(i,t,n,r,o,"throw",e)}r(void 0)})},function(){return a.apply(this,arguments)})},{key:"reset",value:function(){this.initDeferred(),grecaptcha.reset()}},{key:"onSuccess",value:function(){this.hide().then(this.resolve.bind(this))}},{key:"cancel",value:function(){return VotingButtons.show({animated:!0}),this.hide(),this.deferred.reject(),!1}},{key:"hide",value:function(){var e=o.Deferred();return this.$container.is(":hidden")?e.reject():this.$container.slideUp("fast",function(){o(this).parents(".display-with-voting-captcha").hide(),o(this).closest(".rate").removeClass("active"),e.resolve()}),e.promise()}},{key:"resolve",value:function(){var e=this.$form.serializeArray();this.deferred.resolve(e)}}],n(r.prototype,u),Object.defineProperty(r,"prototype",{writable:!1}),i)},227:function(e,t){!function(e,t){"use strict";var n={get container(){return delete this.container,this.container=t("#voting-buttons-container")},get buttons(){return delete this.buttons,this.buttons=this.container.find("button")}};e.VotingButtons={show:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).animated,e=void 0!==e&&e;this.enable(),e?n.container.slideDown("fast"):n.container.show()},hide:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).animated;void 0!==e&&e?n.container.slideUp("fast"):n.container.hide()},enable:function(){n.buttons.removeAttr("disabled")},disable:function(){n.buttons.attr("disabled","disabled")}}}(window,jQuery)},228:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n((i=a).prototype,[{key:"send",value:function(){var e="";return window.recaptchaV3Token&&(e="?g-recaptcha-action=vote&g-recaptcha-response=".concat(window.recaptchaV3Token)),$.ajax({url:"/ajax/vote".concat(e),type:"POST",data:this.data,timeout:1e4,complete:this.complete.bind(this)}),this.deferred.promise()}},{key:"complete",value:function(e,t){this.deferred["success"==t?"resolve":"reject"](this,e)}}]),Object.defineProperty(i,"prototype",{writable:!1});var i=a;function a(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[],r=this,o=a;if(!(r instanceof o))throw new TypeError("Cannot call a class as a function");this.itemId=e,this.type=t,this.data=i.concat([{name:"item_id",value:e},{name:"vote_type",value:t},{name:"vote_time",value:n}]),this.deferred=$.Deferred()}window.VotingRequest=i},234:function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.adManagerConfig=new DisplayAdManagerConfig}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.adManagerConfig=new VideoAdManagerConfig}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.itemDiv=e,this.$itemDiv=this.itemDiv.$domElt,this.$container=$(this.itemDiv.$container)}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(i)return(i=Object.getOwnPropertyDescriptor(i,t)).get?i.get.call(arguments.length<3?e:n):i.value}).apply(this,arguments)}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f(n),t=(e=i?(e=f(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(e=t))throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(216),i((p=r).prototype,[{key:"key",get:function(){return this.adManagerConfig.key}},{key:"value",get:function(){return this.adManagerConfig.value}},{key:"enabled",get:function(){return this.adManagerConfig.showAds}},{key:"showDefaultAds",get:function(){return this.adManagerConfig.showDefaultAds}},{key:"load",value:function(){this.enabled&&(console.log("== Init HeaderBidding"),HeaderBidding.init(this.key,this.value,this.showDefaultAds))}}]),Object.defineProperty(p,"prototype",{writable:!1}),window.DisplayAdManager=r,n(217),n(218),n(219),n(202),o((p=a).prototype,[{key:"load",value:function(){return this.enabled()?ads.preloader():$(document).triggerHandler("adDisplayDone")}},{key:"enabled",value:function(){var e="mobile"===$("body").data("action");return!(!this.adManagerConfig.revenueShare&&!e)&&this.adManagerConfig.showAds&&this.compatibleDevice()}},{key:"compatibleDevice",value:function(){return"mobile"==window.UserAgent.device.type?Html5ImaCompatibility.mobile():Html5ImaCompatibility.desktop()}}]),Object.defineProperty(p,"prototype",{writable:!1}),window.VideoAdManager=a,s((p=c).prototype,[{key:"init",value:function(){this.hide(),$(document).one("adDisplayDone",this.display.bind(this)),0<$("#request-play-game").size()?($(".game-control-container").hide(),$("#play-game").click(this.manageClick.bind(this))):this.handleVideoAd()}},{key:"manageClick",value:function(){this.insertContent(),this.hide(),this.handleVideoAd()}},{key:"insertContent",value:function(){$("#request-play-game").hide(),$(".game-control-container").show(),$(".item-spot").replaceWith(this.$container.data("asyncContent")),this.itemDiv.refreshDom(),this.$itemDiv=this.itemDiv.$domElt}},{key:"handleDisplayAds",value:function(){this.displayAdManager=new DisplayAdManager,this.displayAdManager.load()}},{key:"handleVideoAd",value:function(){this.videoAdManager=new VideoAdManager,this.videoAdManager.load()}},{key:"display",value:function(){this.$itemDiv.css("display","block")}},{key:"hide",value:function(){$(".item-spot").hide(),this.$itemDiv.css("display","none")}}]),Object.defineProperty(p,"prototype",{writable:!1}),window.ItemLoader=c,n(220),n(221),n(222),n(207);var p=function(){var e=r,t=ItemLoader;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t);var n=h(r);function r(){var e=this,t=r;if(e instanceof t)return n.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return u((e=r).prototype,[{key:"init",value:function(){this.adManagerConfig=new VideoAdManagerConfig,this.display()}},{key:"display",value:function(){var n=this,i=!1;flowplayer(this.itemDiv.domId,this.options()).on("load",function(e,t){new Video(n.itemDiv.domId)}).on("resume",function(e,t){i||($.post("/tracking/video_play_count",{item_slug:n.$container.data("slug")}),i=!0)}).on("finish",function(e,t){t.unload(),$(document).trigger("playNextVideo")}),l(f(r.prototype),"display",this).call(this)}},{key:"handleVideoAd",value:function(){}},{key:"options",value:function(){var e={key:"$483119889963668,$118640622092553",hlsQualities:!0,autoplay:!1,hlsjs:{maxMaxBufferLength:10,startLevel:-1},clip:{sources:[{type:"application/x-mpegurl",src:this.$itemDiv.data("src")}]}};return this.adManagerConfig.showAds&&(e.ima={ads:[{time:0,adTag:this.adManagerConfig.url}]}),e}}]),Object.defineProperty(e,"prototype",{writable:!1}),r}();function m(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}window.VideoLoader=p;n=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var n=t.$container.data("item-loader");return"VideoLoader"===n&&(this.itemLoader=new VideoLoader(t)),"Html5Loader"===n&&(this.itemLoader=new Html5Loader(t)),"SwfLoader"===n&&(this.itemLoader=new SwfLoader(t)),"UnityLoader"===n&&(this.itemLoader=new UnityLoader(t)),this.itemLoader},g&&m(n.prototype,g),v&&m(n,v),Object.defineProperty(n,"prototype",{writable:!1});var g,v,p=n;window.ItemLoaderFactory=p},241:function(e,t){window.IdnetAchievements={init:function(){$(document).ready(function(){$achitemPopup=$("#achitem-popup"),$achitemTitle=$("#achitem-title"),$achitemDesc=$("#achitem-desc"),$achitemDifficulty=$("#achitem-difficulty"),$achitemAwarded=$("#achitem-awarded"),$(document).on({mouseenter:function(){windowWidth=$(window).width();var e=$(this),t=e.position();return $achitemTitle.html(e.data("achtitle")),$achitemDesc.html(e.data("achdesc")),$achitemDifficulty.html(e.data("achdifficulty")),$achitemAwarded.html("Awarded: "+e.data("achawarded")+" players"),windowWidth-t.left<194&&(position.left=windowWidth-194),$achitemPopup.css({top:t.top+"px",left:t.left+"px"}).show(),!1},mouseleave:function(){return console.log("== hereOut"),$achitemPopup.hide(),!1}},".achitem")}),$("#idnet-achievements").each(function(){var n=$(this),e=$("#achievements-template",n).html(),i=Handlebars.compile(e),t=$("#idnet-achievements-pagination"),r=$("body").data("idnet-app-id"),o={appid:r},a=[],s=0,c=!1,u=function(){n.find("abbr.timeago").timeago()},l=function(e,t){e.preventDefault(),p(t)},d=function(){jQuery.ajax({xhrFields:{withCredentials:!0},url:window.appInfo.accountServiceApiUrls.userAutologinUrl.replace(":app_id",r)}).success(function(e){$(".achievements-loader").remove(),"user"in e&&(o.playerid=e.user.pid),ID.GameAPI.Achievements.listCustom(o,function(e){if(!(e.success&&"achievements"in e))return $(".idnet-achievements").hide(),!1;a=e.achievements,h(),1<(s=1<a.length?Math.ceil(a.length/16):1)&&t.twbsPagination({first:I18n.t("js.pagination.first",{defaultValue:"First"}),prev:I18n.t("js.pagination.previous",{defaultValue:"Previous"}),next:I18n.t("js.pagination.next",{defaultValue:"Next"}),last:I18n.t("js.pagination.last",{defaultValue:"Last"}),totalPages:s,visiblePages:13,onPageClick:l}),n.html(""),jQuery.each(a,function(e,t){e<=15&&n.append(i(t))}),u()}),u()})},h=function(){var n=[],i=[];jQuery.each(a,function(e,t){("player"in t?n:i).push(t)}),a=n.concat(i)},f=function(e){e=a.slice(16*(e-1),16*e);jQuery.each(e,function(e,t){n.append(i(t))})},p=function(e){0==a.length?d():(n.html(""),f(e))};$(".idnet-achievements").visible(!0)?p(1):$(document).on("scroll",function(){$(".idnet-achievements").visible(!0)&&0==c&&(p(1),c=!0)})})}}},242:function(e,t,n){"use strict";n(208);a=function(){$.get(r,s).fail(function(e){$(".screenshots-loader").fadeOut(),i.empty(),i.parent().hide(),console.log("Failed to load Y8 Account screenshots")})},s=function(e){$(".screenshots-loader").fadeOut(),e=d(e),i.html(""),e&&e.length?$.each(e,function(e,t){i.append(o(t)),l(t,"#rateyo-")}):i.parent().hide(),$(".screenshot-thumb").click(c).lazyload({container:$(".idnet-screenshots"),effect:"fadeIn"}),$(".enlarged-screenshot-container").click(u),$(".enlarged-screenshot-close").click(u)},c=function(){var i=$(this).data("screenshot");$(".screenshot-table").hide(function(){var n=$(this);$(".enlarged-screenshot-container").fadeIn(),$(".enlarged-screenshot").attr({src:i.url}).load(function(){var e=$("#enlarged-screenshot-template").html(),e=Handlebars.compile(e),t=n.find(".screenshot-info");t.click(function(e){e.stopPropagation()}),t.empty(),t.append(e(i)),l(i,"#enlarged-rateyo-"),n.fadeIn()})})},u=function(){$(".enlarged-screenshot-container").fadeOut(function(){var e=$(".keycaptcha-wrapper");e.data("isDetached")&&($(".display-with-screenshot-rating-captcha").hide(),$(".keycaptcha-wrapper").detach().appendTo(".keycaptcha-placeholder"),e.data({isDetached:!1}))})},l=function(n,i){var e=$(i+n.id);e.rateYo({rating:n.averageRating,starWidth:"15px",fullStar:!0,normalFill:"#CFDCE8"}),e.rateYo("option","onSet",function(e){var t;"#enlarged-rateyo-"==i&&((t=$(".keycaptcha-wrapper")).detach().appendTo(".enlarged-keycaptcha-placeholder"),t.data({isDetached:!0})),ScreenshotRating.rate(n.appId,n.id,e)})},d=function(e){if("string"==typeof e)try{e=$.parseJSON(e)}catch(e){}return e};var i,r,o,a,s,c,u,l,d,h={init:function(){Handlebars.registerHelper("contextAsJson",function(){return JSON.stringify(this)}),$(".idnet-screenshots").each(function(){i=$(this),r=i.data("idnet-screenshots-url");var e=$("#screenshot-template",i).html();o=Handlebars.compile(e),function e(){i.visible(!0)?a():setTimeout(e,50)}()})},initForProfile:function(){$(".screenshot").click(c).lazyload({container:$(".screenshots-list"),effect:"fadeIn"}),$(".enlarged-screenshot-container").click(u),$(".enlarged-screenshot-close").click(u)}};$(function(){h.init()}),window.IdnetScreenshots=h},243:function(e,t){function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}!function(n){"use strict";a(e={},Voting.ERROR_TOO_MANY_VOTES_PER_ITEM,"items.voting_main.vote_no_more"),a(e,Voting.ERROR_TOO_MANY_VOTES_PER_SITE,"views.items.show.max_votes_reached"),a(e,"default","views.items.show.unknown_voting_error");var e,t=e,i=(o((e=r).prototype,[{key:"position",value:function(){var e=this.$button.position();return{top:e.top-10,left:e.left}}},{key:"show",value:function(){var e=I18n.t(this.key()),t=this.position();n(".vote-popup").show().html(e).css(t).slideDown().delay(8e3).fadeOut()}},{key:"key",value:function(){return t[this.errorCode]||t.default}}]),Object.defineProperty(e,"prototype",{writable:!1}),r);function r(e,t){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.$button=e,this.errorCode=t}DesktopVoting.onSuccess(function(){var e=n(this),t=e.data("success-class");e.addClass(t),n(".on-success",e).show(),n("#success-overlay").show().delay(6e3).fadeOut()}),DesktopVoting.onFailure(function(e,t){new i(this,t).show()})}(jQuery)},251:function(e,t,n){"use strict";n(223);function i(e,t){return function(){return e.apply(t,arguments)}}var r;function o(){this.hideErrorMessageContainer=i(this.hideErrorMessageContainer,this),this.showErrorMessageContainer=i(this.showErrorMessageContainer,this),this.hideSuccessMessageContainer=i(this.hideSuccessMessageContainer,this),this.showSuccessMessageContainer=i(this.showSuccessMessageContainer,this),this.errorMessageContainer=i(this.errorMessageContainer,this),this.successMessageContainer=i(this.successMessageContainer,this),this.commentFormContainer=i(this.commentFormContainer,this),this.setTimerToHideMessage=i(this.setTimerToHideMessage,this),this.showErrorMessage=i(this.showErrorMessage,this),this.showSuccessMessage=i(this.showSuccessMessage,this),this.disableForm=i(this.disableForm,this),this.enableForm=i(this.enableForm,this),this.onCommentSubmitError=i(this.onCommentSubmitError,this),this.onCommentSubmitSuccess=i(this.onCommentSubmitSuccess,this),this.onBeforeSend=i(this.onBeforeSend,this),this.onUserInfoReady=i(this.onUserInfoReady,this),this.onSubmitClick=i(this.onSubmitClick,this),this.registerHandlers=i(this.registerHandlers,this),this.registerHandlers()}function a(){}window.Comments=(r=void 0,a.instance=a.init=function(){return null!=r?r:r=new s},a),o.prototype.DEFAULT_ERROR_MESSAGE=I18n.t("views.items.show.comment-error",{defaultValue:"Unexpected error occurred, please try again."}),o.prototype.registerHandlers=function(){return $(document).bind("user-info-ready",this.onUserInfoReady),this.commentFormContainer().find(".idnet-comments-form").on("ajax:beforeSend",this.onBeforeSend).on("ajax:success",this.onCommentSubmitSuccess).on("ajax:error",this.onCommentSubmitError),$("#submit-comment").click(this.onSubmitClick)},o.prototype.onSubmitClick=function(e){if(e.preventDefault(),$("#idnet-comment-text").val())return AvatarChooser.init(function(){return $(".idnet-comments-form").submit()})},o.prototype.onUserInfoReady=function(){if("true"===Cookies.get("access_token")&&"true"===Cookies.get("logged_in"))return this.commentFormContainer().find(".login-to-comment").remove(),this.commentFormContainer().find(".post-comment-table").show(),this.commentFormContainer().find(".idnet-comment-text").attr("placeholder",I18n.t("views.items.show.comment-placeholder",{defaultValue:"Input your comment here"})),this.enableForm()},o.prototype.onBeforeSend=function(e){return this.disableForm(),!0},o.prototype.onCommentSubmitSuccess=function(e,t){return $("#idnet-comments").trigger("refresh"),$(".comments-counter").html(parseInt($(".comments-counter").html())+1),this.showSuccessMessage(t),this.enableForm({clear:!0})},o.prototype.onCommentSubmitError=function(e,t){return"You've already submitted a comment recently"==t.responseText?this.showErrorMessage(I18n.t("views.items.show.comment-frequency",{defaultValue:"Please wait to post a comment again"})):this.showErrorMessage(403===t.status&&0<$.trim(t.responseText).length?t.responseText:this.DEFAULT_ERROR_MESSAGE),this.enableForm({focus:!0})},o.prototype.enableForm=function(e){var t;return null==e&&(e={}),t=this.commentFormContainer().find(".idnet-comment-text"),!0===e.clear&&t.val(""),t.removeAttr("disabled"),!0===e.focus&&t.focus(),this.commentFormContainer().find(".comment-button").removeAttr("disabled")},o.prototype.disableForm=function(){return this.commentFormContainer().find(".idnet-comment-text").attr("disabled","disabled"),this.commentFormContainer().find(".comment-button").attr("disabled","disabled")},o.prototype.showSuccessMessage=function(e){return this.hideErrorMessageContainer(),this.successMessageContainer().children("span").html(e),this.showSuccessMessageContainer(),this.setTimerToHideMessage()},o.prototype.showErrorMessage=function(e){return this.hideSuccessMessageContainer(),this.errorMessageContainer().children("span").html(e),this.showErrorMessageContainer(),this.setTimerToHideMessage()},o.prototype.setTimerToHideMessage=function(){return this.message_hiding_timeout&&clearTimeout(this.message_hiding_timeout),this.message_hiding_timeout=setTimeout((e=this,function(){return e.hideSuccessMessageContainer(),e.hideErrorMessageContainer()}),1e4);var e},o.prototype.commentFormContainer=function(){return this.comments_form_container||(this.comments_form_container=$(".post-comment-container"))},o.prototype.successMessageContainer=function(){return this.success_message_container||(this.success_message_container=this.commentFormContainer().find(".post-comment-message-success"))},o.prototype.errorMessageContainer=function(){return this.error_message_container||(this.error_message_container=this.commentFormContainer().find(".post-comment-message-error"))},o.prototype.showSuccessMessageContainer=function(){return this.successMessageContainer().removeClass("very-hidden").removeClass("hidden","fast")},o.prototype.hideSuccessMessageContainer=function(){return this.successMessageContainer().addClass("hidden","fast",function(){return $(this).addClass("very-hidden")})},o.prototype.showErrorMessageContainer=function(){return this.errorMessageContainer().removeClass("very-hidden").removeClass("hidden","fast")},o.prototype.hideErrorMessageContainer=function(){return this.errorMessageContainer().addClass("hidden","fast",function(){return $(this).addClass("very-hidden")})};var s=o,c={init:function(){$("#idnet-comments").each(function(){var i=$(this),e=(i.data("idnet-comments-locale-script"),i.data("idnet-comments-url")),t=$("#comment-template",i).html(),r=Handlebars.compile(t),o=$("#idnet-comments-pagination"),a=function(e,t){e.preventDefault(),n(t)},n=function(t){jQuery.get(e,{page:t},function(e){1==t&&Cookies.get("user_pid")?jQuery.get(i.data("idnet-user-comments-url").replace(":id",Cookies.get("user_pid")),s(e)):s(e)()})},s=function(n){return function(e){$(".comments-loader").remove(),n=u(n),e=u(e);var t=1<n.pages_count?n.pages_count:1,t=(1<t&&(o.show(),o.twbsPagination({first:I18n.t("js.pagination.first",{defaultValue:"First"}),prev:I18n.t("js.pagination.previous",{defaultValue:"Previous"}),next:I18n.t("js.pagination.next",{defaultValue:"Next"}),last:I18n.t("js.pagination.last",{defaultValue:"Last"}),totalPages:t,visiblePages:8,onPageClick:a})),n.results);e&&e.results.length&&(t=c(t,e)),$(".comments-counter").html(n.count),i.empty().append($.map(t,function(e){return e.message=decodeHtml(e.message),e.nickname?r(e):null})),i.find(".timeago").timeago()}},c=function(n,e){var i=$.map(n,function(e){return e._id});return $.each(e.results.reverse(),function(e,t){-1==i.indexOf(t._id)&&n.unshift(t)}),n},u=function(t){if("string"==typeof t)try{return jQuery.parseJSON(t)}catch(e){console.log("Failed to parse JSON",e,t)}return t};!function e(){i.visible(!0)?n(1):setTimeout(e,50)}(),i.on("refresh",function(e){n(1)})})},dealWithSubmitButton:function(){var e=$("#idnet-comment-text"),t=$("#submit-comment");t.focus(function(){t.trigger("click")}),e.focus(function(){t.addClass("pre-active")}),e.focusout(function(){t.removeClass("pre-active")}),e.on("keyup",function(){2<$(this).val().length?(t.removeAttr("disabled"),t.addClass("active")):(t.attr("disabled","disabled"),t.removeClass("active"))})}};$(function(){Comments.init(),c.init(),0<=["y8","videotime"].indexOf(window.appInfo.skinShortName)&&c.dealWithSubmitButton()}),window.IdnetComments=c},299:function(e,t){$(function(){var e,t=$(".item-container");t.data("focus-object")&&$(".item-container object").focus(),t.data("focus-html5-content")&&((e=$("#html5-content")).focus(),$(document).on("click mouseenter",".item-container",function(){e.focus()}))})},300:function(e,t){jQuery(function(n){var i,t,r,o;"Chrome"==window.UserAgent.browser.name&&40<=parseInt(window.UserAgent.browser.major,10)&&n("body[data-controller=Items][data-action=show]").length&&(i=Date.now(),r=t=!1,o=!!n("#item-container iframe").length,n("#item-container iframe, #item-container embed, #item-container object").hover(function(){r=!0},function(){r=!1}),n("#item-container embed, #item-container object").on("mouseup",function(){setTimeout(function(){var e;void 0!==document.webkitHidden&&document.webkitHidden&&!t&&r&&!o&&(e=Date.now()-i,n.post("/tracking/outbound_link",{tog:e}),t=!0)},1e3)}),n(document).on("webkitvisibilitychange",function(e){var t;void 0!==document.webkitHidden&&document.webkitHidden&&r&&o&&(t=Date.now()-i,n.post("/tracking/outbound_link",{tog:t}),n(this).off(e))}))})},301:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}i=function e(){var t,r,o,a,s;if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");"IE"==window.UserAgent.browser.name&&(t=$(".item-container").find("object"),$(".content"),r=$(".parental-filter-form"),o=$(".locales-container"),$(document).on("checkOverlayMenus",function(){var e=$("#q").is(":focus"),t=""!=r.html(),n="none"!=o.css("display"),i=$(".browse-menu").is(":visible");(e||t||n||ID.isVisible()||i?s:a)()}),a=function(){t.css("visibility","visible")},s=function(){t.css("visibility","hidden")})},r&&n(i.prototype,r),o&&n(i,o),Object.defineProperty(i,"prototype",{writable:!1});var i,r,o,a=i;$(function(){new a})},369:function(e,t,n){"use strict";n.r(t),n(211),n(212),n(213),n(234),n(199),n(241),n(251),n(224),n(242),n(225),n(243),n(299),n(300),n(301);var i={init:function(){$(".unity-version-link").length&&($(".webplayer-version-link").show(),this.webgl()||this.webglSmartFrame()?$(".webplayer-version-link").show():(this.webplayer()||this.webplayerSmartFrame())&&($(".webgl-version-link").show(),$(".webplayer-version-link").hide()))},webgl:function(){return/\/webgl$/.test(window.location.pathname)},webglSmartFrame:function(){return/\/webgl\/smart_frame$/.test(window.location.pathname)},webplayer:function(){return/\/unity3d$/.test(window.location.pathname)},webplayerSmartFrame:function(){return/\/unity3d\/smart_frame$/.test(window.location.pathname)}},t=n(203),r=n(204);function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}o((n=s).prototype,[{key:"init",value:function(){var e=this;this.$promoBlock=document.querySelector("#y8-browser-promo-game"),this.$gameBlock=document.querySelector("#item-container"),this.$clickToPlay=document.querySelector("#request-play-game"),this.active=!1,this.$promoBlock&&(this.isY8Browser=-1!==navigator.userAgent.indexOf("y8"),this.isFlashEnabled()||this.isY8Browser?this.hide():(this.$clickToPlay&&(this.$clickToPlay.style.display="none",this.$clickToPlay.classList.remove("show")),this.active=!0,this.show()),this.manageDirectDownload(),this.$promoBlock.querySelector(".close-btn").addEventListener("click",function(){e.hide()}))}},{key:"show",value:function(){this.$gameBlock.style.display="none",this.$promoBlock.classList.add("show")}},{key:"hide",value:function(){this.$gameBlock.style.display="block",this.$promoBlock.classList.remove("show")}},{key:"manageDirectDownload",value:function(){var e=window.navigator.appVersion;this.$downloadLink=this.$promoBlock.querySelector(".download-link"),/.*(Mac).*/i.test(e)?this.$downloadLink.href=this.$downloadLink.dataset.macosUrl:/.*(Win).*/i.test(e)&&(this.$downloadLink.href=this.$downloadLink.dataset.windowsUrl)}},{key:"isFlashEnabled",value:function(){var e=!1;if(void 0!==navigator.plugins&&"object"==typeof navigator.plugins["Shockwave Flash"])e=!0;else if(void 0!==window.ActiveXObject)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(e=!0)}catch(e){console.log(e)}return e}}]),Object.defineProperty(n,"prototype",{writable:!1});var a=s;function s(){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function")}window.Playtomic=new t.a,$(function(){i.init(),Tracking.init();var e,t,n=new a;n.init(),0!=$("#promoted-mobile-game").length||n.active||(n=new ContainerDiv("#item-container"),t=new ItemDiv("#item-direct-container",n),(e=new ItemLoaderFactory(t)).init(),t=new ItemView(t,n),"y8"==window.appInfo.skinShortName?(t.init(),e.handleDisplayAds()):ItemResizer.init(t),Tracking.trackTog()),(new ItemFavorite).bindClickActions(),r.a.init(!0),"undefined"!=typeof VideoPreview&&VideoPreview.init(),DesktopVoting.init(),$(window).on("id.init",function(){return IdnetAchievements.init(),IdnetLeaderboard.init()}),String(document.location.pathname).match(/\/games\/\w+/)&&$(document).off("keydown mouseenter mouseleave")})},39:function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}i((r=o).prototype,[{key:"saveGameId",value:function(e){var t,n;this.allowedSkins.indexOf(window.appInfo.skinShortName)<0||(-1<(n=(t=this.cookieVal?JSON.parse(this.cookieVal):[]).indexOf(e))&&t.splice(n,1),t.push(e),t.length>this.maxIds&&t.splice(0,1),n=JSON.stringify(t),Cookies.set(this.cookieName,n,{path:"/",domain:this.cookieDomain,expires:this.cookieExpiration}))}},{key:"removeOldCookie",value:function(){"y8"==window.appInfo.skinShortName&&Cookies.remove(this.cookieName,{path:"/",expires:this.cookieExpiration})}}]),Object.defineProperty(r,"prototype",{writable:!1});var r=o;function o(e,t){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");this.cookieDomain=".".concat(window.appInfo.skinName),this.cookieExpiration=365,this.maxIds=100,this.allowedSkins=["y8","videotime"],this.cookieName=e,this.removeOldCookie(),this.cookieVal=Cookies.get(e),this.saveGameId(t)}t.a=r}});