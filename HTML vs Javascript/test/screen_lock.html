<!DOCTYPE html>
<html>
<head>
    <title>Hình vuông 3x3</title>
    <style>
        .container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-gap: 10px;
            width: 400px;
            margin: 0 auto;
        }

        .outer-circle {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            border: 2px solid black;
            background-color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }

        .inner-circle {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: black;
        }

        .line {
            position: absolute;
            background-color: red;
        }
    </style>
</head>
<body>
<div class="container">
    <div class="outer-circle">
        <div class="inner-circle"></div>
    </div>
    <div class="outer-circle">
        <div class="inner-circle"></div>
    </div>
    <div class="outer-circle">
        <div class="inner-circle"></div>
    </div>
    <div class="outer-circle">
        <div class="inner-circle"></div>
    </div>
    <div class="outer-circle">
        <div class="inner-circle"></div>
    </div>
    <div class="outer-circle">
        <div class="inner-circle"></div>
    </div>
    <div class="outer-circle">
        <div class="inner-circle"></div>
    </div>
    <div class="outer-circle">
        <div class="inner-circle"></div>
    </div>
    <div class="outer-circle">
        <div class="inner-circle"></div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(document).ready(function() {
        var isMouseDown = false;
        var currentCircle = null;
        var line = null;

        $('.outer-circle').mousedown(function(e) {
            isMouseDown = true;
            currentCircle = $(this);
            var circlePosition = currentCircle.offset();
            var startX = circlePosition.left + currentCircle.width() / 2;
            var startY = circlePosition.top + currentCircle.height() / 2;

            line = $('<div class="line"></div>');
            line.css({
                left: startX + 'px',
                top: startY + 'px'
            });
            $('body').append(line);
        });

        $(document).mousemove(function(e) {
            if (isMouseDown && currentCircle !== null) {
                var circlePosition = currentCircle.offset();
                var centerX = circlePosition.left + currentCircle.width() / 2;
                var centerY = circlePosition.top + currentCircle.height() / 2;
                var endX = e.pageX;
                var endY = e.pageY;
                var deltaX = endX - centerX;
                var deltaY = endY - centerY;
                var angle = Math.atan2(deltaY, deltaX);
                var distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);
                line.css({
                    width: distance + 'px',
                    transform: 'translate(' + centerX + 'px, ' + centerY + 'px) rotate(' + angle + 'rad)'
                });
            }
        });

        $(document).mouseup(function() {
            isMouseDown = false;
            if (currentCircle !== null) {
                currentCircle = null;
                line.remove();
            }
        });
    });
</script>
</body>
</html>
